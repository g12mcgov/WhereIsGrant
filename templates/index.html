<!-- Main Template -->
<!DOCTYPE html>
<html>
<head>
	<title>Where is Grant?</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="static/css/style.css"/>
	<link href='//fonts.googleapis.com/css?family=Russo+One|Changa+One|Roboto|Raleway:500|Luckiest+Guy' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'>
	<style type="text/css">
      html, body, #map-canvas { height: 100%; margin: 0; padding: 0;}
    </style>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCDMHtxdOqOcu1EjQWhwlXb6cahz7nOsz8">
    </script>
</head>
<body>
	<h1 style="text-align:center;font-family:'Luckiest Guy', cursive;font-size: 110px;color: black;"> Where is Grant? </h1>
	<div id="map-canvas"></div>
</body>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.16/socket.io.min.js"></script>
<script type="text/javascript">
	var marker = new Array();

	var socket = io.connect('http://' + document.domain + ':' + location.port + '/test');

	var map;
	var mapOptions;

	socket.on('newnumber', function(data){
	  var mapOptions = {
	    center: new google.maps.LatLng(10.191, -68.192),
	    zoom: 7,
	    mapTypeId: google.maps.MapTypeId.ROADMAP
	  };
	  var mark = marker[data[0], data[1]];
	    if(mark){
	      mark.setPosition(new google.maps.LatLng(data[0],data[1]));
	    }else{
	      marker[Number(data['test'])] = new google.maps.Marker({
	                    position: new google.maps.LatLng(data[0],data[1]),
	                    map: map,
	                    title: String(data['test']),
	                  });
	    }
	});	

	map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);


		//google.maps.event.addDomListener(window, "load", initialize);

</script>
</html>